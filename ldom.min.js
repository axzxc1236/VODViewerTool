!function(){var r={elc:0,elf:{},elfIds:{}};function h(e){if("string"==typeof e&&"<"===e[0]&&">"===e[e.length-1])return new o(document.createElement(e.substring(1,e.length-1)));if(null!==e&&e){if(e._LDOM)return e;if(e===window)return new f;if(0<e.nodeType)return new o(e);if("string"==typeof e||void 0===e.length)return h(document).find(e);for(var t=[],n=0;n<e.length;n++){var i=h(e[n]);0<i.length&&t.push(i)}return new o(t)}return new o([])}function o(e){this._LDOM=!0,Array.isArray(e)?(this.length=e.length,this._elements=e):(this.length=1,this._node=e)}function f(){this._LDOM=!0,this.length=1,this._node=window}function e(e,t){for(var n=l(this),i=t?n.length-1:0,o=t?-1:1,r=(t?0:n.length-1)+o,h=i;h!==r;h+=o){if(!1===e.apply(n[h],[h]))break}return this}function t(e){if(c(e)){var t=l(this);return e<0&&(e=t.length+e),c(t[e])?t[e]._node:null}var n=[];return this.each(function(){n.push(this._node)}),n}function n(t,n){var i=++r.elc,o=function(e){n.apply(h(this),[e])};return this.each(function(){this._node.addEventListener(t,o);var e=this._node._LDOMe||[];e.push(i),this._node._LDOMe=e}),r.elf[t]||(r.elf[t]={}),r.elf[t][i]={funct:o,count:this.length},r.elfIds[i]={name:t},i}function i(n){if(c(n)){if("string"==typeof n)this.each(function(){if(r.elf[n])for(var e=this._node._LDOMe||[],t=e.length-1;0<=t;t--)r.elfIds[e[t]].name===n&&this.off(e[t])});else if("number"==typeof n){var i=n;this.each(function(){if(r.elfIds[i]){var e=r.elfIds[i].name;if(r.elf[e][i]){var t=r.elf[e][i];this._node.removeEventListener(e,t.funct);var n=this._node._LDOMe||[];n.splice(n.indexOf(i),1),0===n.length?delete this._node._LDOMe:this._node._LDOMe=n,0==--t.count&&(delete r.elf[e][i],0===Object.keys(r.elf[e]).length&&delete r.elf[e],delete r.elfIds[i])}}})}}else this.each(function(){for(var e=this._node._LDOMe||[],t=e.length-1;0<=t;t--)this.off(e[t])})}function s(e,t){if(c(t))return this.each(function(){this._node.setAttribute(e,t)}),this;var n=l(this);return 0<n.length?n[0]._node.getAttribute(e):""}function u(e,t,n){e.each(function(){this.inPage=document.body.contains(this._node)}),e.each(function(){this._node[t]=n});var i=[];return e.each(function(){this.inPage&&!document.body.contains(this._node)||i.push(this),delete this.inPage}),h(i)}function l(e){return e._elements?e._elements:[e]}function c(e){return void 0!==e}window.LDOM=h,window.$=window.$||h,o.prototype.each=e,o.prototype.find=function(n){var i=[];return this.each(function(){for(var e=this._node.querySelectorAll(n),t=0;t<e.length;t++)i.push(e[t])}),h(i)},o.prototype.get=t,o.prototype.on=n,o.prototype.off=i,o.prototype.text=function(e){{if(c(e))return u(this,"innerText",e);var t=l(this);return 0<t.length?t[0]._node.innerText:""}},o.prototype.attr=s,o.prototype.appendChild=function(t){return this.each(function(){var e=this._node;t.each(function(){e.appendChild(this._node.cloneNode(!0))})}),this},o.prototype.remove=function(){this.each(function(){c(this.off)&&this.off(),this._node.parentNode.removeChild(this._node)})},f.prototype.each=e,f.prototype.get=t,f.prototype.on=n,f.prototype.off=i,f.prototype.attr=s}();